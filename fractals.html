<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"/>
        
        <style>
            body{
                margin:0;
                background-color: lightcoral;
            }
            canvas{
                border: 2px solid black;
            }
        </style>
    </head>
    <body>
        <center>
            <h1> Fractal Tree</h1>
        <canvas id="can"></canvas>
        <br> <br>
       Angle between branches <input id="angle" max="40" min=0 type="range" step=.01>
        <br>
        <br>
        <a target="_blank" href='https://rudraworks.github.io/my-blog/blog.html'>copyleft rudra</a>
        
    </center>
    </body>
    <script>

        var can=document.getElementById("can");
        var ctx=can.getContext('2d');
        // can.width=innerWidth/1.1;
        // can.height=innerHeight/1.1;

        can.style.transform="scale(1)";

window.devicePixelRatio=1;
var sizeW=innerWidth/1.09;
var sizeH=(innerHeight/1.3);
var size=sizeW;
can.style.width=sizeW+"px";
can.style.height=sizeW+"px";

var scale=window.devicePixelRatio;
can.width=Math.floor(size*scale+500);
can.height=Math.floor(size*scale+500);
ctx.scale(scale,scale);
ctx.font="10px Arial";
ctx.textBaseLine="middle";
 
        var ang=document.getElementById("angle");
        
        
        function animate()
        {
            requestAnimationFrame(animate);
            ctx.clearRect(0,0,can.width,can.height);
            ctx.fillRect(0,0,can.width,can.height);
            ctx.strokeStyle="white";
            ctx.beginPath();
            
            var text=ang.value+" degree";
            ctx.fillStyle="white";
            ctx.font='30px serif';
            ctx.fillText(text,20,40);
            ctx.fillStyle="black";

            var a=parseInt(angle.value);
                function draw(startx,starty,len,angle)
                {
                    ctx.beginPath();
                    ctx.save();
                //
                    
                    ctx.translate(startx,starty);
                    ctx.rotate(angle*Math.PI/180);
                    ctx.moveTo(0,0);
                    ctx.lineTo(0,-len);
                    ctx.stroke();

                    if(len<10)
                    {
                        ctx.restore();
                        return ;

                    }
               
                    draw(0, -len, len*0.80, -a);
                
                   draw(0, -len, len*0.80, +a);
                    ctx.restore();
                }
                draw(can.width/2,can.height/1.3,120,0);

        }
        animate();
    </script>
</html>















